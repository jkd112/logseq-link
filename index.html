<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Przekierowanie Logseq</title>
    <script>
        function doRedirect() {
            const currentUrl = window.location.href;
            const logseqIndex = currentUrl.indexOf("logseq://");

            if (logseqIndex !== -1) {
                let logseqLink = decodeURIComponent(currentUrl.substring(logseqIndex));
                
                // Metoda 1: Bezpośrednie przypisanie (działa w Safari/Firefox)
                window.location.href = logseqLink;

                // Metoda 2: "Rezerwowa" dla Chrome - symulacja kliknięcia
                setTimeout(function() {
                    const a = document.createElement('a');
                    a.href = logseqLink;
                    a.click();
                }, 100); 
            } else {
                document.body.innerHTML = "<h3>Błąd: Nie znaleziono linku Logseq.</h3>";
            }
        }
        
        // Próbujemy uruchomić natychmiast
        window.onload = doRedirect;
    </script>
</head>
<body>
    <div style="text-align: center; margin-top: 50px; font-family: sans-serif;">
        <p>Przekierowywanie do Logseq...</p>
        <button onclick="doRedirect()" style="padding: 10px 20px; cursor: pointer;">
            Kliknij tutaj, jeśli Logseq się nie otwiera
        </button>
    </div>
</body>
</html>
